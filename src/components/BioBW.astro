---
export interface Props { data: any }
const { data } = Astro.props;
import LogoAbleton from '../Assets/software_logos/Ableton.webp';
import LogoReaper from '../Assets/software_logos/Reaper.webp';
import LogoLogicPro from '../Assets/software_logos/Logic_Pro.webp';
import LogoProTools from '../Assets/software_logos/Pro_Tools.webp';
import LogoFMOD from '../Assets/software_logos/Fmod.webp';
import LogoWwise from '../Assets/software_logos/Wwise.webp';
import LogoUnity from '../Assets/software_logos/Unity.webp';
import LogoCsharp from '../Assets/software_logos/Csharp.webp';
import LogoGit from '../Assets/software_logos/Git.webp';
import LogoDavinci from '../Assets/software_logos/Davinci_Resolve.webp';
import LogoCinema4D from '../Assets/software_logos/Cinema_4D.webp';
import LogoPhotoshop from '../Assets/software_logos/photoshop.webp';

const LOGOS: Record<string, string> = {
  'Ableton': LogoAbleton,
  'Reaper': LogoReaper,
  'Logic Pro': LogoLogicPro,
  'Pro Tools': LogoProTools,
  'FMOD': LogoFMOD,
  'Wwise': LogoWwise,
  'Unity': LogoUnity,
  'C#': LogoCsharp,
  'Git': LogoGit,
  'DaVinci Resolve': LogoDavinci,
  'Cinema 4D': LogoCinema4D,
  'Photoshop': LogoPhotoshop,
};
---

<style>
  :root { color-scheme: light; }
  .frame { min-height: 100%; display: grid; place-items: center; }
  .wrap { width: min(100%, 960px); padding: 56px 24px; }
  .row { display: grid; grid-template-columns: 1fr 0.9fr; gap: 40px; align-items: center; }
  .name { font-size: 72px; letter-spacing: 8px; font-weight: 700; font-style: italic; line-height: 1.04; margin: 0 0 8px; text-transform: uppercase; color: #000; }
  .subtitle { font-size: 12px; text-transform: uppercase; letter-spacing: 3px; margin: 0 0 20px; color: #000; }
  .lead { font-size: 20px; line-height: 1.6; color: #000; }
  .portrait { width: 100%; max-width: 400px; object-fit: cover; justify-self: end; border: 1px solid #000; border-radius: 12px; }
  .divider { height: 1px; background: #000; margin: 40px 0; }
  .label { font-size: 12px; letter-spacing: 2px; text-transform: uppercase; margin: 0 0 12px; color: #000; }
  .chips { display: flex; flex-wrap: wrap; gap: 8px; }
  .chip { display: inline-flex; align-items: center; gap: 6px; border: 1px solid #000; border-radius: 6px; padding: 4px 10px; font-size: 12px; transition: background .15s ease, color .15s ease; color: #000; }
  .chip:hover { background: #000; color: #fff; }
  .chip img { display: inline-block; height: 16px; width: auto; }
  .skills { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 24px; }
  .skill { padding: 18px; border: 2px solid #000; border-radius: 12px; }
  .skill h3 { margin: 0 0 10px; font-size: 12px; letter-spacing: 1px; text-transform: uppercase; color: #000; }
  .footer { display: flex; justify-content: space-between; align-items: baseline; flex-wrap: wrap; gap: 16px; }
  .email { border-bottom: 2px solid #000; padding-bottom: 2px; color: #000; text-decoration: none; }
  .email:hover { background: #000; color: #fff; padding: 2px 6px; border-bottom-color: transparent; }
  @media (max-width: 980px) { .row { grid-template-columns: 1fr; } .portrait { justify-self: start; max-width: 340px; } .skills { grid-template-columns: repeat(2, minmax(0,1fr)); } }
</style>

<section class="frame" aria-label="Bio">
  <div class="wrap">
    <div class="row">
      <div>
        <h1 id="bio-bw-name" class="name">{String(data?.title || '').toUpperCase()}</h1>
        <p id="bio-bw-subtitle" class="subtitle">{String(data?.subtitle || '').toUpperCase()}</p>
        <div id="bio-bw-lead" class="lead" set:html={data?.bio || ''}></div>
      </div>
      {data?.portrait ? (<img id="bio-bw-portrait" class="portrait" src={data.portrait} alt={data.title || 'Portrait'} />) : null}
    </div>

    <div class="divider"></div>

    <section aria-labelledby="bio-bw-skills-label">
      <div id="bio-bw-skills-label" class="label">Skills</div>
      <div id="bio-bw-skills" class="skills">
        {(data?.skills || []).map((cat: any) => (
          <div class="skill bio-bw-skill">
            <h3>{cat.category}</h3>
            <div class="chips">
              {(cat.tools || []).map((t: string) => (
                <span class="chip bio-bw-chip">{LOGOS[t] ? (<img src={LOGOS[t]} alt="" aria-hidden="true" />) : null}{t}</span>
              ))}
            </div>
          </div>
        ))}
      </div>
    </section>

    <div class="divider"></div>

    <section class="footer" aria-label="Contact and Social">
      <div>
        <div class="label">Contact</div>
        {data?.email ? (<a id="bio-bw-email" class="email bio-bw-email" href={`mailto:${data.email}`}>{data.email}</a>) : null}
      </div>
      <div>
        <div class="label">Social</div>
        <div id="bio-bw-social" class="chips bio-bw-chips">
          {(data?.social || []).map((s: any) => (<a class="chip bio-bw-chip" href={s.url} target="_blank" rel="noreferrer noopener">{s.platform}</a>))}
        </div>
      </div>
    </section>
  </div>
  
</section>

